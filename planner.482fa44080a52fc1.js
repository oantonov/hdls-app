"use strict";(self.webpackChunktms=self.webpackChunktms||[]).push([[121],{288:(fe,M,l)=>{l.r(M),l.d(M,{HttpLoaderFactory:()=>Z,PlannerModule:()=>le});var A=l(9299),a=l(4650),B=l(6026),f=l(9646),J=l(8306),E=l(576);function g(n){return!!n&&(n instanceof J.y||(0,E.m)(n.lift)&&(0,E.m)(n.subscribe))}var k=l(4128),x=l(7272),O=l(9770),L=l(5698),$=l(7579),W=l(6063);class X extends $.x{constructor(i=1/0,e=1/0,t=W.l){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){const{isStopped:e,_buffer:t,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:o}=this;e||(t.push(i),!s&&t.push(r.now()+o)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(i),{_infiniteTimeWindow:t,_buffer:s}=this,r=s.slice();for(let o=0;o<r.length&&!i.closed;o+=t?1:2)i.next(r[o]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){const{_bufferSize:i,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:s}=this,r=(s?1:2)*i;if(i<1/0&&r<t.length&&t.splice(0,t.length-r),!s){const o=e.now();let h=0;for(let u=1;u<t.length&&t[u]<=o;u+=2)h=u;h&&t.splice(0,h+1)}}}var Q=l(3099);function R(n,i,e){let t,s=!1;return n&&"object"==typeof n?({bufferSize:t=1/0,windowTime:i=1/0,refCount:s=!1,scheduler:e}=n):t=n??1/0,(0,Q.B)({connector:()=>new X(t,i,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var V=l(4004),q=l(4351),j=l(3900);class p{}let N=(()=>{class n extends p{getTranslation(e){return(0,f.of)({})}}return n.\u0275fac=function(){let i;return function(t){return(i||(i=a.n5z(n)))(t||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class D{}let U=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function m(n,i){if(n===i)return!0;if(null===n||null===i)return!1;if(n!=n&&i!=i)return!0;let s,r,o,e=typeof n;if(e==typeof i&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(i))return!1;for(r in o=Object.create(null),n){if(!m(n[r],i[r]))return!1;o[r]=!0}for(r in i)if(!(r in o)&&typeof i[r]<"u")return!1;return!0}if(!Array.isArray(i))return!1;if((s=n.length)==i.length){for(r=0;r<s;r++)if(!m(n[r],i[r]))return!1;return!0}}return!1}function d(n){return typeof n<"u"&&null!==n}function b(n){return n&&"object"==typeof n&&!Array.isArray(n)}function K(n,i){let e=Object.assign({},n);return b(n)&&b(i)&&Object.keys(i).forEach(t=>{b(i[t])?t in n?e[t]=K(n[t],i[t]):Object.assign(e,{[t]:i[t]}):Object.assign(e,{[t]:i[t]})}),e}class C{}let G=(()=>{class n extends C{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let s;return s="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,s}getValue(e,t){let s="string"==typeof t?t.split("."):[t];t="";do{t+=s.shift(),!d(e)||!d(e[t])||"object"!=typeof e[t]&&s.length?s.length?t+=".":e=void 0:(e=e[t],t="")}while(s.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(s,r)=>{let o=this.getValue(t,r);return d(o)?o:s}):e}}return n.\u0275fac=function(){let i;return function(t){return(i||(i=a.n5z(n)))(t||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class T{}let z=(()=>{class n extends T{compile(e,t){return e}compileTranslations(e,t){return e}}return n.\u0275fac=function(){let i;return function(t){return(i||(i=a.n5z(n)))(t||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class H{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new a.vpe,this.onLangChange=new a.vpe,this.onDefaultLangChange=new a.vpe}}const w=new a.OlP("USE_STORE"),P=new a.OlP("USE_DEFAULT_LANG"),F=new a.OlP("DEFAULT_LANGUAGE"),S=new a.OlP("USE_EXTEND");let y=(()=>{class n{constructor(e,t,s,r,o,h=!0,u=!1,c=!1,v){this.store=e,this.currentLoader=t,this.compiler=s,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=h,this.isolate=u,this.extend=c,this.pending=!1,this._onTranslationChange=new a.vpe,this._onLangChange=new a.vpe,this._onDefaultLangChange=new a.vpe,this._langs=[],this._translations={},this._translationRequests={},v&&this.setDefaultLang(v)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(null==this.defaultLang&&(this.defaultLang=e),t.pipe((0,L.q)(1)).subscribe(s=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,f.of)(this.translations[e]);let t=this.retrieveTranslations(e);return typeof t<"u"?(this.currentLang||(this.currentLang=e),t.pipe((0,L.q)(1)).subscribe(s=>{this.changeLang(e)}),t):(this.changeLang(e),(0,f.of)(this.translations[e]))}retrieveTranslations(e){let t;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe(R(1),(0,L.q)(1));return this.loadingTranslations=t.pipe((0,V.U)(s=>this.compiler.compileTranslations(s,e)),R(1),(0,L.q)(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?{...s,...this.translations[e]}:s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),t}setTranslation(e,t,s=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=(s||this.extend)&&this.translations[e]?K(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,s){let r;if(t instanceof Array){let o={},h=!1;for(let u of t)o[u]=this.getParsedResult(e,u,s),g(o[u])&&(h=!0);if(h){const u=t.map(c=>g(o[c])?o[c]:(0,f.of)(o[c]));return(0,k.D)(u).pipe((0,V.U)(c=>{let v={};return c.forEach((ue,he)=>{v[t[he]]=ue}),v}))}return o}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),s)),typeof r>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),s)),typeof r>"u"){let o={key:t,translateService:this};typeof s<"u"&&(o.interpolateParams=s),r=this.missingTranslationHandler.handle(o)}return typeof r<"u"?r:t}get(e,t){if(!d(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,q.b)(s=>g(s=this.getParsedResult(s,e,t))?s:(0,f.of)(s)));{let s=this.getParsedResult(this.translations[this.currentLang],e,t);return g(s)?s:(0,f.of)(s)}}getStreamOnTranslationChange(e,t){if(!d(e)||!e.length)throw new Error('Parameter "key" required');return(0,x.z)((0,O.P)(()=>this.get(e,t)),this.onTranslationChange.pipe((0,j.w)(s=>{const r=this.getParsedResult(s.translations,e,t);return"function"==typeof r.subscribe?r:(0,f.of)(r)})))}stream(e,t){if(!d(e)||!e.length)throw new Error('Parameter "key" required');return(0,x.z)((0,O.P)(()=>this.get(e,t)),this.onLangChange.pipe((0,j.w)(s=>{const r=this.getParsedResult(s.translations,e,t);return g(r)?r:(0,f.of)(r)})))}instant(e,t){if(!d(e)||!e.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],e,t);if(g(s)){if(e instanceof Array){let r={};return e.forEach((o,h)=>{r[e[h]]=e[h]}),r}return e}return s}set(e,t,s=this.currentLang){this.translations[s][e]=this.compiler.compile(t,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof e>"u"?void 0:(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(H),a.LFG(p),a.LFG(T),a.LFG(C),a.LFG(D),a.LFG(P),a.LFG(w),a.LFG(S),a.LFG(F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),_=(()=>{class n{constructor(e,t){this.translate=e,this._ref=t,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,t,s){let r=o=>{this.value=void 0!==o?o:e,this.lastKey=e,this._ref.markForCheck()};if(s){let o=this.translate.getParsedResult(s,e,t);g(o.subscribe)?o.subscribe(r):r(o)}this.translate.get(e,t).subscribe(r)}transform(e,...t){if(!e||!e.length)return e;if(m(e,this.lastKey)&&m(t,this.lastParams))return this.value;let s;if(d(t[0])&&t.length)if("string"==typeof t[0]&&t[0].length){let r=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(r)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else"object"==typeof t[0]&&!Array.isArray(t[0])&&(s=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{this.lastKey&&r.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,s,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,s))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(y,16),a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ee=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:p,useClass:N},e.compiler||{provide:T,useClass:z},e.parser||{provide:C,useClass:G},e.missingTranslationHandler||{provide:D,useClass:U},H,{provide:w,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:S,useValue:e.extend},{provide:F,useValue:e.defaultLanguage},y]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:p,useClass:N},e.compiler||{provide:T,useClass:z},e.parser||{provide:C,useClass:G},e.missingTranslationHandler||{provide:D,useClass:U},{provide:w,useValue:e.isolate},{provide:P,useValue:e.useDefaultLang},{provide:S,useValue:e.extend},{provide:F,useValue:e.defaultLanguage},y]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var te=l(6895),Y=l(4006);function ne(n,i){if(1&n&&(a.TgZ(0,"option",3),a._uU(1),a.qZA()),2&n){const e=i.$implicit,t=a.oxw();a.Q6J("value",e)("selected",e===t.translate.currentLang),a.xp6(1),a.Oqu(e)}}const se=[{path:"",component:(()=>{class n{constructor(e,t){this.titleservice=e,this.translate=t,this.i18nPath="planner"}ngOnInit(){this.titleservice.setTitle("TMS 9 | Planner Homepage"),this.translate.addLangs(["en","de","fr"]),this.translate.setDefaultLang("en")}translateLanguageTo(e){console.log(" %c Lang >> ","background: #555; color: #bada55",e),this.translate.use(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(B.y),a.Y36(y))},n.\u0275cmp=a.Xpm({type:n,selectors:[["tms-planner"]],decls:9,vars:7,consts:[[3,"change"],["langSelect",""],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,t){if(1&e){const s=a.EpF();a.TgZ(0,"select",0,1),a.NdJ("change",function(){a.CHM(s);const o=a.MAs(1);return a.KtG(t.translateLanguageTo(o.value))}),a.YNc(2,ne,2,3,"option",2),a.qZA(),a.TgZ(3,"h1"),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.TgZ(6,"p"),a._uU(7),a.ALo(8,"translate"),a.qZA()}2&e&&(a.xp6(2),a.Q6J("ngForOf",t.translate.getLangs()),a.xp6(2),a.Oqu(a.lcZ(5,3,"header")),a.xp6(3),a.Oqu(a.lcZ(8,5,"content")))},dependencies:[te.sg,Y.YN,Y.Kr,_]}),n})()}];let ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[A.Bz.forChild(se),A.Bz]}),n})();var I=l(529);class ie{constructor(i,e="/assets/i18n/",t=".json"){this.http=i,this.prefix=e,this.suffix=t}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}}var re=l(4573),oe=l(4466);function Z(n){return new ie(n,re.J.translations.planner,".lang")}let le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ae,oe.m,I.JF,ee.forRoot({loader:{provide:p,useFactory:Z,deps:[I.eN]}})]}),n})()}}]);